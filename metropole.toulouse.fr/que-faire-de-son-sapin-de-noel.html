<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
    <title>Carte interactive : O√π recycler son sapin √† Toulouse ? | 31000 Web Cr√©ation</title>
    <meta name="description" content="Trouvez le point de collecte le plus proche pour votre sapin de No√´l √† Toulouse. Carte interactive et consignes de tri pour janvier 2026.">
    <link rel="canonical" href="https://31000web.com/metropole.toulouse.fr/carte-sapins-2026.html" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Quicksand:wght@500;700&family=Courier+New&display=swap" rel="stylesheet">

    <style>
        /* =========================================
           1. BLOG THEME (The Host)
           ========================================= */
        :root {
            --bg-color: #f0f0f0;
            --card-bg: #ffffff;
            --ink: #1a1a1a;
            --accent: #9d4edd;
            --accent-hover: #c77dff;
            --border-thick: 3px solid var(--ink);
            --shadow-hard: 6px 6px 0px var(--ink);
            --font-main: 'Courier New', Courier, monospace;
            /* New variable for consistent blog padding */
            --blog-padding: 2rem 2rem; 
        }

        * { box-sizing: border-box; }
        
        body {
            margin: 0; padding: 0;
            font-family: var(--font-main);
            color: var(--ink);
            background-color: var(--bg-color);
            background-image: radial-gradient(var(--ink) 1px, transparent 1px);
            background-size: 20px 20px;
            overflow-x: hidden;
        }

        /* Navigation */
        header.blog-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1.5rem 2rem; background: var(--card-bg);
            border-bottom: var(--border-thick); position: sticky; top: 0; z-index: 100;
        }

        .logo {
            font-weight: 900; font-size: 1.2rem; text-transform: uppercase;
            letter-spacing: -1px; background: var(--ink); color: var(--card-bg);
            padding: 5px 10px; transform: rotate(-1deg);
        }

        .btn-nav {
            text-decoration: none; color: var(--ink); font-weight: bold;
            text-transform: uppercase; padding: 10px 20px;
            border: var(--border-thick); background: var(--accent);
            box-shadow: 4px 4px 0px var(--ink); transition: all 0.2s ease;
        }
        .btn-nav:hover { transform: translate(2px, 2px); box-shadow: 2px 2px 0px var(--ink); background: var(--accent-hover); }

        /* Article Layout */
        .blog-container { max-width: 900px; margin: 4rem auto; padding: 0 1rem; }

        article {
            background: var(--card-bg); border: var(--border-thick);
            box-shadow: var(--shadow-hard); position: relative;
            overflow: hidden; 
        }

        .post-meta {
            position: absolute; top: -15px; left: -10px;
            background: var(--ink); color: #fff; padding: 5px 10px;
            font-size: 0.8rem; border: 2px solid var(--accent);
            transform: rotate(-2deg); z-index: 50;
        }

        /* --- NEW: Standard Blog Content Padding Block --- */
        .blog-text-block {
            padding: var(--blog-padding);
        }

        /* Typography within blog blocks */
        .blog-text-block h1 {
            font-size: 2rem; margin-bottom: 1.5rem; line-height: 1.1;
            text-transform: uppercase; border-bottom: 4px solid var(--accent);
            display: inline-block; font-family: var(--font-main);
        }
        .blog-text-block h3 { margin-top: 1.5rem; margin-bottom: 0.5rem; text-transform: uppercase; font-size: 1.1rem; font-family: var(--font-main);}
        .blog-text-block p, .blog-text-block li { font-size: 1.1rem; line-height: 1.6; margin-bottom: 1rem; font-family: var(--font-main); }
        .blog-text-block ul { padding-left: 20px; margin-bottom: 1.5rem; }

        /* --- NEW: Generic Blog Image Style --- */
        .blog-image {
            width: 100%; height: auto; display: block;
            border: var(--border-thick);
            box-shadow: 4px 4px 0px var(--ink);
            margin: 2rem 0; /* Space around images */
        }

        /* Footer bar */
        .interaction-bar {
            border-top: var(--border-thick); background: #fafafa;
            padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center;
            z-index: 50; position: relative;
        }

        code { background: #eee; padding: 2px 5px; border: 1px solid var(--ink); font-size: 0.9em; }

        /* Page Transition */
        .page-transition-veil {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #ffffff; z-index: 9999; pointer-events: none;
            animation: quickFadeOut 0.5s ease-out forwards;
        }
        @keyframes quickFadeOut { 0% { opacity: 1; } 100% { opacity: 0; } }


        /* =========================================
           2. MAP APPLICATION STYLES (Scoped)
           ========================================= */
        
        .map-app-wrapper {
            /* Sandwiched between text blocks */
            border-top: var(--border-thick);
            border-bottom: var(--border-thick);
            display: flex;
            flex-direction: column;
            position: relative;
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(to bottom, #1a2a6c, #b21f1f, #fdbb2d);
            overflow: hidden;
            height: 75vh; /* Fixed height for the widget area */
            min-height: 500px;
        }

        /* Snow Animation inside wrapper */
        .snow-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1;
            background-image: url('data:image/svg+xml;utf8,%3Csvg version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"%3E%3Ccircle cx="10" cy="10" r="3" fill="white" opacity="0.3"/%3E%3C/svg%3E');
            animation: snow 10s linear infinite;
        }
        @keyframes snow {
            0% { background-position: 0 0; }
            100% { background-position: 50px 200px; }
        }

        /* Internal App Header */
        .app-header {
            background: #165b33; 
            border-bottom: 4px solid #f1c40f; 
            color: white; padding: 10px 15px;
            flex-shrink: 0; z-index: 20;
            display: flex; align-items: center; justify-content: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        /* Specific h1 style for the app header, overriding blog h1 */
        .app-header h1 { 
            margin: 0; font-family: 'Mountains of Christmas', cursive; 
            font-size: 1.8rem; font-weight: 700; letter-spacing: 1px;
            border: none; text-transform: none; display: block;
        }

        /* Controls */
        #controls {
            background: rgba(255, 255, 255, 0.95); padding: 12px;
            display: flex; flex-wrap: wrap; gap: 10px;
            flex-shrink: 0; z-index: 10; align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        #input-group { display: flex; flex: 1; gap: 8px; flex-wrap: wrap; min-width: 200px; }

        input.map-input {
            padding: 8px 15px; border: 2px solid #ddd; border-radius: 25px;
            font-size: 14px; flex: 1; height: 45px; min-width: 150px;
            background: white; font-family: 'Quicksand', sans-serif; outline: none;
            transition: border-color 0.3s;
        }
        input.map-input:focus { border-color: #c0392b; }

        #btn-group { display: flex; gap: 8px; flex-wrap: wrap; }

        button.map-btn {
            border: none; border-radius: 25px; cursor: pointer;
            font-size: 14px; font-weight: 700; padding: 0 16px; height: 45px;
            display: flex; align-items: center; justify-content: center; gap: 6px;
            white-space: nowrap; transition: transform 0.2s, box-shadow 0.2s;
            font-family: 'Quicksand', sans-serif; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        button.map-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }

        #btn-loc { background: #27ae60; color: white; }
        #btn-recenter { background: #2980b9; color: white; display: none; }
        #btn-reset { background: #c0392b; color: white; }

        /* Map Area */
        #content-area {
            display: flex; flex: 1; position: relative; overflow: hidden; z-index: 5;
        }
        #map { flex: 1; height: 100%; width: 100%; }

        #results-container {
            width: 320px; background: white; border-left: 1px solid #ddd;
            display: none; flex-direction: column; overflow-y: auto;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
        }

        .list-header {
            background: #e74c3c; padding: 10px 15px; font-size: 1rem;
            font-family: 'Mountains of Christmas', cursive; font-weight: 700;
            letter-spacing: 1px; color: white; position: sticky; top: 0; text-align: center;
        }

        .result-item {
            padding: 15px; border-bottom: 1px solid #f1f1f1; cursor: pointer;
            transition: background 0.1s; position: relative;
        }
        .result-item:hover { background: #fff5f5; }
        .result-name { font-weight: 700; color: #2c3e50; margin-bottom: 5px; display: block; font-size: 1rem; }
        .result-addr { font-size: 0.85rem; color: #7f8c8d; display: block; }
        .dist-badge {
            float: right; background: #f1c40f; color: #7f5c05;
            padding: 3px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: 700;
        }

        /* Popup Styles */
        .gm-style-iw-d { overflow: hidden !important; padding: 0 !important; }
        .gm-style-iw-c { padding: 0 !important; border-radius: 15px !important; }
        button.gm-ui-hover-effect {
            background: rgba(192, 57, 43, 0.1) !important; 
            border-radius: 50% !important; margin: 5px !important;
        }
        .custom-popup { padding: 15px; max-width: 260px; font-family: 'Quicksand', sans-serif; }
        .custom-popup h3 { margin: 0 0 6px; font-size: 16px; color: #c0392b; font-weight: 700; }
        .custom-popup p { margin: 0 0 12px; font-size: 13px; color: #555; line-height: 1.4; }
        .popup-btn {
            display: inline-flex; align-items: center; justify-content: center;
            background: #165b33; color: white !important; text-decoration: none;
            padding: 8px 12px; border-radius: 20px; font-size: 13px; font-weight: 600;
            width: 100%; box-sizing: border-box; transition: background 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .popup-btn:hover { background: #14522d; }

        /* Responsive */
        @media (max-width: 768px) {
            header.blog-header { padding: 1rem; }
            .blog-container { margin: 2rem auto; }
            
            .blog-text-block { padding: 1.5rem 1rem; } /* Slightly less padding on mobile */

            /* Map App Mobile */
            #controls { gap: 8px; padding: 10px; }
            #input-group { min-width: 100%; }
            #btn-group { width: 100%; gap: 8px; }
            button.map-btn { flex: 1; } 
            #content-area { flex-direction: column; }
            #results-container { width: 100%; height: 40%; border-left: none; border-top: 4px solid #f1c40f; }
        }
    </style>
</head>
<body>

    <div class="page-transition-veil"></div>

    <div class="emerge-content">
        <header class="blog-header">
            <div class="logo">31000 Web Creation</div>
            <a href="/blog/blog.html" class="btn-nav">‚Üê Retour au Blog</a>
        </header>

        <main class="blog-container">
            <article>
                <div class="post-meta">JAN 2026</div>
                
                <div class="blog-text-block">
                    <h1>O√π donner une seconde vie √† votre sapin ?</h1>
                    <p>Les f√™tes de fin d'ann√©e touchent √† leur fin. Votre sapin a fi√®rement illumin√© votre salon, mais il commence √† perdre ses √©pines. Plut√¥t que de l'abandonner tristement sur un trottoir (ce qui est interdit et passible d'amende), offrez-lui une sortie digne de ce nom !</p>
                    
                    <img src="https://source.unsplash.com/random/900x450/?christmas,tree,winter" alt="Sapin de No√´l en hiver" class="blog-image" width="900" height="450">
                    
                    <p>La M√©tropole de Toulouse organise une grande collecte. Vos sapins seront broy√©s pour √™tre transform√©s en paillage ou en compost pour les espaces verts de la ville. C'est un geste simple, √©cologique et citoyen.</p>
                    <p style="font-weight: bold;">Utilisez la carte interactive ci-dessous pour localiser le point de collecte temporaire le plus proche de chez vous :</p>
                </div>


                <div class="map-app-wrapper">
                    <div class="snow-container"></div>

                    <div class="app-header">
                        <h1>üéÑ Recherche Points de Collecte üéÖ</h1>
                    </div>

                    <div id="controls">
                        <div id="input-group">
                            <input id="address" class="map-input" type="text" placeholder="üè† Entrez votre adresse ici...">
                        </div>
                        
                        <div id="btn-group">
                            <button id="btn-loc" class="map-btn">üìç Ma position</button>
                            <button id="btn-recenter" class="map-btn">üéØ Recentrer</button>
                            <button id="btn-reset" class="map-btn">üóëÔ∏è Effacer</button>
                        </div>
                    </div>

                    <div id="content-area">
                        <div id="map"></div>
                        <div id="results-container">
                            <div class="list-header">‚≠ê Points √† proximit√© ‚≠ê</div>
                            <div id="results-list"></div>
                        </div>
                    </div>
                </div>
                <div class="blog-text-block" style="padding-top: 3rem;">
                    <h3>Les r√®gles d'or pour un d√©p√¥t r√©ussi</h3>
                    <p>Attention, tous les sapins ne peuvent pas √™tre recycl√©s de la m√™me mani√®re. Pour que votre arbre soit accept√© dans les points de collecte de la carte ci-dessus, il est imp√©ratif de respecter les consignes suivantes :</p>
                    
                    <ul>
                        <li><strong>Sapin "nu" uniquement :</strong> Il doit √™tre d√©pourvu de tout artifice.</li>
                        <li><strong>Z√©ro d√©coration :</strong> Retirez soigneusement guirlandes, boules, et cheveux d'ange.</li>
                        <li><strong>Pas de sac :</strong> Ne l'emballez pas, m√™me dans un sac dit "biod√©gradable" (sauf le sac "Handicap International").</li>
                        <li><strong>Pas de flocage :</strong> Les sapins recouverts de neige artificielle ou de peinture ne sont pas compostables. Ils doivent √™tre amen√©s en d√©chetterie classique.</li>
                    </ul>

                     <img src="https://source.unsplash.com/random/900x450/?forest,wood,recycling" alt="Bois et nature" class="blog-image" width="900" height="450">

                    <p>En respectant ces r√®gles, vous facilitez le travail des agents et garantissez un compost de qualit√©. Merci pour votre contribution √† l'environnement toulousain !</p>
                </div>


                <div class="interaction-bar">
                    <div class="tags">
                        <code>#toulouse</code> <code>#recyclage</code> <code>#sapin2026</code>
                    </div>
                    <div style="font-size: 0.8rem; font-weight: bold;">
                        Donn√©es : OpenData Toulouse M√©tropole
                    </div>
                </div>
            </article>
        </main>
    </div>

    <script>
    let map, userMarker, infoWindow;
    let markers = [];
    let allPoints = [];
    let userLocation = null; 
    let userAddressString = null; 

    const DEFAULT_CENTER = { lat: 43.6045, lng: 1.444 };

    // Winter Map Style
    const CHRISTMAS_MAP_STYLE = [
      { "featureType": "landscape", "stylers": [{ "saturation": -100 }, { "lightness": 65 }, { "visibility": "on" }] },
      { "featureType": "poi", "stylers": [{ "saturation": -100 }, { "lightness": 51 }, { "visibility": "simplified" }] },
      { "featureType": "road.highway", "stylers": [{ "saturation": -100 }, { "visibility": "simplified" }] },
      { "featureType": "road.arterial", "stylers": [{ "saturation": -100 }, { "lightness": 30 }, { "visibility": "on" }] },
      { "featureType": "road.local", "stylers": [{ "saturation": -100 }, { "lightness": 40 }, { "visibility": "on" }] },
      { "featureType": "transit", "stylers": [{ "saturation": -100 }, { "visibility": "simplified" }] },
      { "featureType": "administrative.province", "stylers": [{ "visibility": "off" }] },
      { "featureType": "water", "elementType": "labels", "stylers": [{ "visibility": "on" }, { "lightness": -25 }, { "saturation": -100 }] },
      { "featureType": "water", "elementType": "geometry", "stylers": [{ "hue": "#ffff00" }, { "lightness": -25 }, { "saturation": -97 }] }
    ];

    // Dictionary: Zip Codes to Town Names
    const ZIP_TO_CITY = {
      "31000": "Toulouse", "31100": "Toulouse", "31200": "Toulouse", "31300": "Toulouse", "31400": "Toulouse", "31500": "Toulouse",
      "31130": "Balma", "31700": "Blagnac", "31770": "Colomiers", "31170": "Tournefeuille", "31270": "Cugnaux", 
      "31240": "L'Union", "31320": "Castanet-Tolosan", "31650": "Saint-Orens-de-Gameville", "31520": "Ramonville-Saint-Agne",
      "31140": "Saint-Alban", "31150": "Brugui√®res", "31270": "Villeneuve-Tolosane", "31830": "Plaisance-du-Touch",
      "31490": "Brax", "31790": "Saint-Jory", "31120": "Portet-sur-Garonne", "31450": "Ayguesvives", "31380": "Montastruc",
      "31620": "Castelnau-d'Estr√©tefonds", "31820": "Pibrac", "31840": "Aussonne", "31780": "Castelginest", "31180": "Castelmaurou",
      "31750": "Escalquens", "31600": "Seysses", "31470": "Fonsorbes", "31280": "Dr√©mil-Lafage", "31850": "Montrab√©",
      "31150": "Fenouillet", "31140": "Launaguet", "31790": "Saint-Sauveur", "31330": "Merville", "31700": "Beauzelle"
    };

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: DEFAULT_CENTER,
        zoom: 11,
        disableDefaultUI: false,
        mapTypeControl: false,
        streetViewControl: false,
        fullscreenControl: false,
        clickableIcons: false,
        gestureHandling: "greedy",
        styles: CHRISTMAS_MAP_STYLE
      });

      infoWindow = new google.maps.InfoWindow();

      setupAutocomplete();
      loadDataset();
      
      document.getElementById("btn-reset").addEventListener("click", resetAll);
      document.getElementById("btn-recenter").addEventListener("click", recenterMap);
      document.getElementById("btn-loc").addEventListener("click", useGeolocation);
    }

    async function loadDataset() {
      try {
        const url = "https://toulouse-metropole.opendatasoft.com/api/records/1.0/search/?dataset=collecte-des-sapins-de-noel&rows=1000";
        const res = await fetch(url);
        const data = await res.json();

        allPoints = data.records
          .filter(r => r.geometry)
          .map(r => {
            const f = r.fields;
            let determinedCity = f.commune;

            if (!determinedCity) {
               const address = f.adresse || f.localisation || "";
               const zipMatch = address.match(/\b(31\d{3})\b/); 
               if (zipMatch) {
                 const zip = zipMatch[1];
                 determinedCity = ZIP_TO_CITY[zip]; 
               }
            }

            if (!determinedCity) determinedCity = "Toulouse";

            let niceCity = determinedCity.charAt(0).toUpperCase() + determinedCity.slice(1).toLowerCase();
            
            if(niceCity.includes("L'union")) niceCity = "L'Union";
            if(niceCity.includes("Saint-orens")) niceCity = "Saint-Orens-de-Gameville";

            return {
              name: f.nom || f.libelle || "Point de collecte",
              address: f.adresse || f.localisation || "Adresse non pr√©cis√©e",
              commune: niceCity,
              lat: r.geometry.coordinates[1],
              lng: r.geometry.coordinates[0],
              marker: null
            };
          });

        filterAndRender(false);

      } catch (e) {
        console.error("Erreur de chargement des donn√©es", e);
      }
    }

    function filterAndRender(shouldFitBounds) {
      markers.forEach(m => m.setMap(null));
      markers = [];
      infoWindow.close();

      const listDiv = document.getElementById("results-list");
      listDiv.innerHTML = "";

      let visiblePoints = [...allPoints];

      if (userLocation) {
        visiblePoints.forEach(p => {
          p.distance = google.maps.geometry.spherical.computeDistanceBetween(
            userLocation, new google.maps.LatLng(p.lat, p.lng)
          );
        });
        visiblePoints.sort((a, b) => a.distance - b.distance);
      } else {
        visiblePoints.sort((a, b) => a.name.localeCompare(b.name));
      }

      const bounds = new google.maps.LatLngBounds();

      visiblePoints.forEach((p, idx) => {
        const marker = new google.maps.Marker({
          position: { lat: p.lat, lng: p.lng },
          map: map,
          title: p.name,
          icon: {
            path: google.maps.SymbolPath.CIRCLE,
            scale: 6,
            fillColor: "#165b33",
            fillOpacity: 1,
            strokeWeight: 2,
            strokeColor: "#f1c40f"
          }
        });

        marker.addListener("click", () => openPopup(p, marker));
        
        p.marker = marker;
        markers.push(marker);
        bounds.extend(marker.getPosition());

        if (idx < 50) {
          document.getElementById("results-container").style.display = "flex";
          
          const item = document.createElement("div");
          item.className = "result-item";
          
          const distHtml = p.distance 
            ? `<span class="dist-badge">${(p.distance/1000).toFixed(1)} km</span>` 
            : "";

          item.innerHTML = `
            ${distHtml}
            <span class="result-name">üéÑ ${p.name}</span>
            <span class="result-addr">${p.address}</span>
          `;
          
          item.onclick = () => {
            openPopup(p, marker);
            map.panTo(marker.getPosition());
            map.setZoom(16);
          };
          
          listDiv.appendChild(item);
        }
      });

      if (markers.length > 0 && shouldFitBounds) {
        map.fitBounds(bounds);
        const listener = google.maps.event.addListener(map, "idle", () => { 
          if (map.getZoom() > 16) map.setZoom(16); 
          google.maps.event.removeListener(listener); 
        });
      }
    }

    function openPopup(p, marker) {
      let originParam = "";
      if (userAddressString) {
        originParam = `&origin=${encodeURIComponent(userAddressString)}`;
      } else if (userLocation) {
        originParam = `&origin=${userLocation.lat()},${userLocation.lng()}`;
      }

      const mapsUrl = `https://www.google.com/maps/dir/?api=1&destination=${p.lat},${p.lng}${originParam}`;

      const content = `
        <div class="custom-popup">
          <h3>üéÖ ${p.name}</h3>
          <p>
            ${p.address}<br>
            <strong>${p.commune}</strong>
          </p>
          <a href="${mapsUrl}" target="_blank" class="popup-btn">
            üéÅ Y aller
          </a>
        </div>
      `;
      
      infoWindow.setContent(content);
      infoWindow.open(map, marker);
    }

    function setupAutocomplete() {
      const input = document.getElementById("address");
      input.addEventListener("keydown", (e) => { if(e.key === "Enter") e.preventDefault(); });

      const autocomplete = new google.maps.places.Autocomplete(input, {
        componentRestrictions: { country: "fr" },
        fields: ["geometry", "formatted_address"]
      });

      autocomplete.addListener("place_changed", () => {
        const place = autocomplete.getPlace();
        if (!place.geometry) return;
        
        userAddressString = place.formatted_address; 
        setUserLocation(place.geometry.location);
      });
    }

    function useGeolocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const loc = new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude);
            userAddressString = null; 
            setUserLocation(loc);
          },
          () => alert("Impossible d'obtenir votre position.")
        );
      } else {
        alert("Votre navigateur ne supporte pas la g√©olocalisation.");
      }
    }

    function setUserLocation(loc) {
      userLocation = loc;
      
      if (userMarker) userMarker.setMap(null);
      userMarker = new google.maps.Marker({
        position: userLocation,
        map: map,
        title: "Vous √™tes ici",
        icon: {
          path: google.maps.SymbolPath.CIRCLE,
          scale: 8,
          fillColor: "#c0392b",
          fillOpacity: 1,
          strokeWeight: 3,
          strokeColor: "white"
        },
        zIndex: 999
      });

      document.getElementById("btn-recenter").style.display = "flex";
      recenterMap(); 
    }

    function recenterMap() {
      if (userLocation) {
        map.panTo(userLocation);
        map.setZoom(14);
        filterAndRender(false);
      }
    }

    function resetAll() {
      document.getElementById("address").value = "";
      document.getElementById("results-container").style.display = "none";
      document.getElementById("btn-recenter").style.display = "none";
      
      userLocation = null;
      userAddressString = null;
      if (userMarker) userMarker.setMap(null);
      
      map.setCenter(DEFAULT_CENTER);
      map.setZoom(11);
      
      filterAndRender(false);
    }
    </script>

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcGEQLapcmMIZpljmgf58msdesktWBXPc&libraries=places,geometry&callback=initMap">
    </script>

</body>
</html>
